var clickSpark=function(){"use strict";var t=jQuery,e={particleImagePath:"images/particle-2.png",particleCount:20,particleSpeed:10,particleDuration:700,particleSize:10,particleRotationSpeed:10,animationType:"explosion",callback:null};t.fn.clickSpark=function(n){n=t.extend({},e,n),t(this).on("click",function(t){i.setParticleImagePath(n.particleImagePath),i.setParticleCount(n.particleCount),i.setParticleSpeed(n.particleSpeed),i.setParticleDuration(n.particleDuration),i.setParticleSize(n.particleSize),i.setParticleRotationSpeed(n.particleRotationSpeed),i.setAnimationType(n.animationType),i.setCallback(n.callback),i.stdFuncOCl(t)})};var i=function(i){function n(){u()}function a(t){void 0!==t&&(F=t)}function o(t){void 0!==t&&(I=t)}function c(t){void 0!==t&&(M=t)}function r(t){void 0!==t&&(b=t)}function s(t){void 0!==t&&(B=t)}function d(t){void 0!==t&&(k=t)}function f(t){void 0!==t&&(C=t)}function l(t){void 0!==t&&(z=t)}function u(){t(document).ready(function(){X=t("body"),V=t(document),Y=t(window),N=t('<canvas id="cs-particle-canvas"></canvas>'),J=t('<div class="cs-canvas-container"></div>'),J.append(N),X.prepend(J),J.hide(),N.hide(),J.css({position:"absolute",zIndex:99999,width:"100%",height:"100%",top:window.pageYOffset,left:window.pageXOffset})})}function p(){var t={};return R&&(t.x=S,t.y=x,t.rotation=0),t.speed=v(0,M),t.angle=v(0,360)*(Math.PI/180),t.rotationSpeed=v(-1*k,k),t.size=B,t}function A(){R=N[0],W=new Image,W.src=F||D,R&&"function"==typeof R.getContext&&(y=R.getContext("2d"),y.canvas.width=document.body.clientWidth,y.canvas.height=document.body.clientHeight),w()}function w(){for(var t=0;I>t;t++)U.push(p())}function h(){y.clearRect(0,0,window.innerWidth,window.innerHeight);var t=Z[C]||Z[DEFAULT_ANIMATION];U.forEach(function(e){t(e),g(e)})}function g(t){t.size*=.96+v(1,10)/100,t.rotation+=t.rotationSpeed,y.save(),y.translate(t.x,t.y),y.rotate(t.rotation*Math.PI/180),W.width=H,W.height=H,y.drawImage(W,-(W.width/2),-(W.height/2),t.size,t.size),y.restore()}function m(){if(q){var t=O;O=Date.now(),requestAnimationFrame(m,O-t),h()}}function v(t,e){return Math.random()*(e-t)+t}function P(t){function e(){N.hide(),J.hide(),X.css({overflow:"inherit"}),q=!1,"function"==typeof z&&z.call(this)}O=Date.now(),"click"===t.type?(S=t.pageX-window.pageXOffset,x=t.pageY-window.pageYOffset):(S=t.offset().left+t.width()/2-window.pageXOffset,x=t.offset().top+t.height()/2-window.pageYOffset),U=[],A(),V.height()>Y.height()?X.css("overflow-y","inherit"):X.css("overflow-y","hidden"),V.width()>Y.width()?X.css("overflow-x","inherit"):X.css("overflow-x","hidden"),J.css({top:window.pageYOffset,left:window.pageXOffset}),N.css({top:0,left:0}),J.show(),N.show(),window.setTimeout(function(){N.fadeOut(e)},b),q=!0,m()}var R,y,S,x,F=e.particleImagePath,I=e.particleCount,M=e.particleSpeed,b=e.particleDuration,k=e.particleRotationSpeed,C=e.animationType,B=e.particleSize,z=e.callback,E=60,T=1e3/E,O=0,q=!1,U=[],D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAMAAABFjsb+AAAAMFBMVEU7g/M9h/49jP8+if9Ah/89if88if87if87jP89iP87iP87iP87iP87iP87iP87iP8qdBigAAAAD3RSTlMAETM+RFBymaq7zNrd7viqvuNnAAAABnRFWHRUaXRsZQCo7tInAAAAB3RFWHRBdXRob3IAqa7MSAAAAAx0RVh0RGVzY3JpcHRpb24AEwkhIwAAAAp0RVh0Q29weXJpZ2h0AKwPzDoAAAAHdEVYdEUtbWFpbAB9CJvVAAAABHRFWHRVUkwAeKPTDwAAAFxJREFUeNptkFsKwEAIA3URtGEl979tn9B2dT6H4CNyouZIJtxUHkZgJsmciHEr2/iy2ZUCv+BIavBPqBgWBxPPxaULioMkV1JY6XLdvG5vd1/7R/237aXvr/a8AxnaEEw0I4SzAAAAAElFTkSuQmCC",H=20;n();var X,V,Y,J,N,W,Z={explosion:function(t){t.x+=t.speed*Math.cos(t.angle),t.y+=t.speed*Math.sin(t.angle)},splash:function(t){t.x-=Math.tan(t.angle),t.y+=-2*t.speed},falloff:function(t){t.x-=Math.tan(t.angle),t.y-=-2*t.speed},blowright:function(t){t.x-=-2*t.speed,t.y-=Math.tan(t.angle/8)},blowleft:function(t){t.x+=-2*t.speed,t.y-=Math.tan(t.angle/8)}};return window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){var i=T;e>i&&(i-=e-i,0>i&&(i=0)),window.setTimeout(t,i)}}(),{setParticleImagePath:function(t){a(t)},setParticleCount:function(t){o(t)},setParticleSpeed:function(t){c(t)},setParticleDuration:function(t){r(t)},setParticleSize:function(t){s(t)},setParticleRotationSpeed:function(t){d(t)},setAnimationType:function(t){f(t)},setCallback:function(t){l(t)},init:function(t){P(element)},fireParticles:function(t){P(t)},stdFuncOCl:function(t){P(t)}}}();return i}();